---
title: C语言学习记录
date: 2022-07-06 21:07:32
tags: [C]
categories: [设计开发, C语言]
---

## 简介

&emsp;&emsp;今天，我买的计算机相关书籍回来了，正好将之前学漏的回炉重造下，关于学C还是学java我纠结了很久，最后还是打算先把C语言学完，然后在学java。现在从C语言最初的内容开始学，好了下面开始正式内容。

##  什么是计算机程序？

&emsp;&emsp;所谓程序，就是一组计算机能识别和执行的指令，每一条指令使计算机执行特定的操作。只要让计算机执行这个程序，计算机就会“自动地”执行各条指令。

&emsp;&emsp;为了使计算机系统能实现各种功能，需要成千上万个程序组成。

&emsp;	计算机的一切操作都是由程序控制的，离开程序，计算机将一事无成

## 计算机语言

&emsp;&emsp;所谓语言，就是一门沟通的工具，人与人有中文和英文等等，则机器与机器也有自己独特的语言。为了能使人与计算机交互，需要创造一种计算机和人都能识别的语言，这就是计算机语言。计算机语言的发展分为以下阶段：

&emsp;&emsp;**机器语言**  计算机工作是基于二进制，从根本上讲计算机只能识别由0和1组成的指令。这种计算机能直接识别和接受的二进制代码称为机器指令。机器指令的集合就是该计算机的机器语言。

&emsp;&emsp;**符号语言**  为了克服机器语言上的困难，人们创造了符号语言，它用一些英文字母和数字表示一个指令，它需要用一种称为汇编程序的软件把符号语言转化为机器指令。一般，一条符号语言的指令对应转换为一条机器指令。转换过程称为“代真”或“汇编”，因此，符号语言又称为汇编语言。

&emsp;&emsp;**高级语言**  为了克服第几语言的缺陷，人们创造了高级语言，它很接近于人们习惯使用的自然语言和数学语言。程序中用到的语句和指令都是用英文单词表示，程序中所用的运算符和运算表达式和人们日常生活中所用到的数学式子差不多，更容易理解。

&emsp;&emsp;当然，计算机也不能直接识别高级程序，业需要进行翻译，我们把刚刚编写的代码称为源程序，把转换得到的程序称为目标程序。

&emsp;&emsp;并且高级语言经历了非结构化的语言、结构化语言、面向对象的语言这三种过程。

## C语言的特点

1.语言简洁、紧凑、使用方便、灵活。

2.运算符丰富

3.数据类型丰富

4.具有结构化的到控制语句

5.语法限制不太严格，程序设计自由度大

6.C语言允许直接访问物理地址，能进行bit的操作，能实现汇编语言的大部分功能，可以直接对硬件进行操作

7.C语言编写的程序可移植性好

8.生成的目标代码质量高，程序执行效率高

## 最简单的C语言程序

1.1要求在屏幕上输出一下一行信息。

This is a C program.

思路：在主函数中用printf函数原样输出该以上文字。

```c
#include <stdio.h>										//这是编译预处理指令
int main()														//定义主函数
{																			//函数开始的标志
  printf("This is a C program.\n")		//输出所指定的一行信息
  return 0;														//函数执行完毕时返回函数值0
}																			//函数结束的标志
```


##  C语言的基本结构

第一天写到最简单的打印字符型程序

```c
#include <stdio.h>	

int main()

{

 printf("This is a C program.\n")	
  
 return 0;										


}	
```

通过这个简单的例子，可以看到，一个C语言程序的结构有一下特点   

1.一个程序由一个或多个源程序文件组成  

2.函数事C程序的主要组成部分  

3.一个函数包括两个部分  

4.函数总是从main函数开始执行  

5.程序中要求计算机完成的操作时由函数中的C语句完成的  

6.在每个数据声明和语句的最后必须有一个分号  

7.C语言本省不提供输入输出语句  

8.程序应当包含注释  



###### 一个源程序文件可以包括3个部分

1.预处理指令  

2.全局声明  

3.函数定义  

##### 一个函数包括两个部分

1.函数首部  

2.函数体（声明部分/执行部分）  



## 程序设计的任务

1.问题分析：对问题进行分析，找出解决问题的规律  

2.设计算法：设计出解题的方法和步骤  

3.编写程序：根据得到的算法，用一种高级语言编写出源程序  

4.对源程序进行编辑、编译和连接：得到可执行程序  

5.运行程序，分析结果：运行可执行程序，得到运行结果  



## 什么是算法

算法从广义的角度来说，为解决一个问题而采取的方法和步骤就称为算法

## 算法的特性

1.有穷性  

2.确定性  

3.有零个或多个输入  

4.有一个或多个输出

5.有效性  

## 流程图

算法的表示分为一下三种种类：  

1.传统型流程图  

2.N-S流程图表示算法  

3.用伪代码表示算法

###### 三种基本结构

1.顺序结构  

2.选择结构  

3.循环结构  



循环结构又分为    

1.当型（while）循环结构  

2.直到型（until型）循环结构  



以上三种基本结构又有一下共同特点:    

1.只有一个入口  

2.只有一个出口  

## 结构化程序设计方法

1.自顶向下  

2.逐步细化  

3.模块化设计  

4.结构化编码  


## 注意：这篇属于后面的篇章
## 递归

递归类似于函数的自身引用，如f(f(x))，就是自己重复调用自己，达到完成相同逻辑切重复的用途，在许多方面都有引用。  

使用递归要注意一下两点：  

1.自己得调用自己  

2.要有结束条件  

注意：第二点尤其重要，因为如果没有结束条件，就会陷入死循环，从而直到耗尽内存为止。  

## 递归用途 汉诺塔

一、汉诺塔（Tower of Hanoi），又称河内塔，是一个源于印度古老传说的益智玩具。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。  
![hanoi](https://blog-alan.oss-cn-hangzhou.aliyuncs.com/20210427074620328.gif)

```c
#include <stdio.h>
void hanoi(int n,char x,char y,char z);
void hanoi(int n,char x,char y,char z)
{
	if(n==1)
	{
		printf("%c-->%c\n",x,z);
	}
	else
	{
		hanoi(n-1,x,z,y);
		printf("%c-->%c\n",x,z);
		hanoi(n-1,y,x,z);
	}
}
int main()
{
	int n;
	printf("请输入汉诺塔的层数：");
	scanf("%d",&n);
	hanoi(n,'X','Y','Z');
	return 0;
}

```

下面是运行结果：  

![运行](https://blog-alan.oss-cn-hangzhou.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-09%20%E4%B8%8B%E5%8D%8810.26.38.png)

下面是代码逻辑图hanoi改了下，变成了hanio_step意思和逻辑不改变:  

![逻辑](https://blog-alan.oss-cn-hangzhou.aliyuncs.com/e51dd0cb01e844a49683da13e756e937.png)

## 结构体
一般用的变量互相独立，无内在联系，但有些数据有内在联系，成组出现，例如一个学生的学号，姓名，性别……  
这种一般无法用数组存储，因为数组一个只能存放同一类型的数据，所以用户可以建立由不同类型数据组成的组合型的数据结构，它称为结构体。  

声明一个结构体类型的一般形式为：  
```
struct 结构体名
{
	成员1;
	成员2；
	……
	成员n;
};
```
例如：图书的标题、作者、价格、日期、
```
struct Book
{
	char title[128];
	char author[40];
	float price;
	unsigned int date;
	char publisher[40];
};
```
定义结构体变量时，可以在末尾;前定义变量名，也可以在main函数中定义
区别是一个是全局变量，另一个则是局部变量。 
成员声明具体如下：   
```
类型名 成员名;
```

## 访问结构体
访问结构体成员需要用到.点运算符具体用法如下：  
```
结构体名.成员名
```
注意：每一个成员是结构体中的一个域。 
## 初始化数组
在末尾的名字后加等号用大括号括起来，用逗号分开，直接输入相应的值，具体如下:
```
struct Book
{       
        char title[128];
        char author[40];
        float price; 
        unsigned int date;
        char publisher[40];
}book={"name","author",49,2022/3/2,'k'};
初始化指定成员，用点运算符，具体语句为：.成员名=值，

## 结构体嵌套
指在一个结构体里面有另一个结构体。 
例如： 
```
struct 结构体名
{
	struct 结构体名 名称；
}结构体名={初始化值};
```
## 访问嵌套结构体成员
用点号运算符，一层一层用点号进入
## 结构体数组
定义方法如下：  
方法1:  
```
struct 结构体名称
{
	结构体成员；
}数组名[长度];
```
方法2:  
```
struct 结构体名称
{
	结构体成员;
};
struct 结构体名称 数组名[长度];
```
在声明结构体后面改成数组形式

## 初始化结构体数组
同样用，号隔开录入  

## 结构体指针 
struct Book * pt;  
pt=&book；  
指向结构体的指针
因为结构体变量名不是指向结构体地址的，所以取值必须使用取值运算符例如：pt=&book；  
## 通过结构体指针访问结构体成员两种方法：
1.
(*结构体指针).成员名
因为点运算符的优先级高于*所以需要使用小括号括起来
2.
结构体指针->成员名

## 文件处理
## 程序执行流程
输入->处理->输出。 

## 文本文件与二进制文件

## 打开与关闭
注意：在完成对一个文件的读写操作之后，你必须将其关闭。  
打开文件使用函数是 fopen
fopen 用于打开一个文件用于返回文件指针
fopen 路径 打开模式
关闭文件使用的函数是 


